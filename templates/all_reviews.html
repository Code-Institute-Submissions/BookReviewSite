{% extends 'base.html'%} {% set active_page = "reviews" %} {% block content %}
<div class="view full-page">
	<div class="min-vh-100 white d-flex align-items-center flex-column container title">
		<h1 class="display-4 pb-5">All Reviews</h1>
		{% if reviews.count() == 0 %}
		<div class="reviews-desc-placeholder flex-center">
			<h4>Sorry No Reviews Yet!</h4>
		</div>
		{% endif %} {% for review in reviews %}
		<div class="row w-75 full-width">
			<div class="col-md-4 d-flex justify-content-center">
				<div class="d-flex align-content-center flex-wrap">
					<img
            class="book-review-image"
            src="{{ review.book_image_url }}"
            alt="book-image"
          />
        </div>
				</div>
				<div class="col-md-8 text-md-left text-center">
					<h3>{{ review.book_title.title() }}</h3>
					<h4>{{ review.book_author.title() }}</h4>
					<div class="row w-100">
						<div class="col-4 d-flex justify-content-center align-content-center flex-wrap">
							<div class="image-cropper">
								<img
                src="{{ url_for('user_upload', filename=review['user_image']) }}"
                alt="Review Poster"
                width="80"
                class="poster-image"
              />
            </div>
							</div>
							<div class="col-8">
								<p class="mb-1" style="white-space: pre-wrap;">{{ review.review.capitalize() }}</p>
								{% if review.user_rating == 1 %}
								<div class="pb-2">
									<span class="fa fa-star checked"></span>
									<span class="fa fa-star"></span>
									<span class="fa fa-star"></span>
									<span class="fa fa-star"></span>
									<span class="fa fa-star"></span>
								</div>
								{% elif review.user_rating == 2 %}
								<div class="pb-2">
									<span class="fa fa-star checked"></span>
									<span class="fa fa-star checked"></span>
									<span class="fa fa-star"></span>
									<span class="fa fa-star"></span>
									<span class="fa fa-star"></span>
								</div>
								{% elif review.user_rating == 3 %}
								<div class="pb-2">
									<span class="fa fa-star checked"></span>
									<span class="fa fa-star checked"></span>
									<span class="fa fa-star checked"></span>
									<span class="fa fa-star"></span>
									<span class="fa fa-star"></span>
								</div>
								{% elif review.user_rating == 4 %}
								<div class="pb-2">
									<span class="fa fa-star checked"></span>
									<span class="fa fa-star checked"></span>
									<span class="fa fa-star checked"></span>
									<span class="fa fa-star checked"></span>
									<span class="fa fa-star"></span>
								</div>
								{% elif review.user_rating == 5 %}
								<div class="pb-2">
									<span class="fa fa-star checked"></span>
									<span class="fa fa-star checked"></span>
									<span class="fa fa-star checked"></span>
									<span class="fa fa-star checked"></span>
									<span class="fa fa-star checked"></span>
								</div>
								{% endif %}
								<p class="mb-0"><b>Posted By:</b> {{ review.user.capitalize() }}</p>
								<p><b>Posted</b> {{ review.date | humanize }}</p>
							</div>
						</div>
					</div>
				</div>
				<hr class="w-75 {% if loop.last %}d-none{% endif %}" />
				{% endfor %}
				<div id="pagination" class="pt-5 text-center">
					{{ pagination.links }} {{ pagination.info }}
				</div>
			</div>
		</div>
		{% endblock %}